{"ast":null,"code":"import _toConsumableArray from\"/Users/Ashley/Desktop/Coursework/ecommerce/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/Ashley/Desktop/Coursework/ecommerce/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/Ashley/Desktop/Coursework/ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState,useEffect}from'react';// // create context\nimport{jsx as _jsx}from\"react/jsx-runtime\";export var CartContext=/*#__PURE__*/createContext();var CartProvider=function CartProvider(_ref){var children=_ref.children;// cart state\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];// // add to cart\nvar addToCart=function addToCart(product,id){console.log('added to the cart');var newItem=_objectSpread(_objectSpread({},product),{},{amount:1});// check if the item is already in the \n// cart\nvar cartItem=cart.find(function(item){return item.id===id;});// // if cart item is already in the cart\nif(cartItem){var newCart=_toConsumableArray(cart).map(function(item){if(item.id===id){return _objectSpread(_objectSpread({},item),{},{amount:cartItem.amount+1});}else{return item;}});setCart(newCart);}else{setCart([].concat(_toConsumableArray(cart),[newItem]));}};// remove from cart\nvar removeFromCart=function removeFromCart(id){var newCart=cart.filter(function(item){return item.id!==id;});setCart(newCart);};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart:cart,addToCart:addToCart,removeFromCart:removeFromCart},children:children});};export default CartProvider;","map":{"version":3,"names":["React","createContext","useState","useEffect","CartContext","CartProvider","children","cart","setCart","addToCart","product","id","console","log","newItem","amount","cartItem","find","item","newCart","map","removeFromCart","filter"],"sources":["/Users/Ashley/Desktop/Coursework/ecommerce/src/contexts/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\n\n// // create context\n\nexport const CartContext = createContext()\n\nconst CartProvider = ({children}) => {\n\n// cart state\n\nconst [cart, setCart] = useState([]);\n\n\n// // add to cart\n\nconst addToCart = (product, id) => {\n    console.log('added to the cart');\nconst newItem = { ...product, amount: 1 };\n\n// check if the item is already in the \n// cart\n\nconst cartItem = cart.find((item) => {\nreturn item.id === id;\n});\n\n// // if cart item is already in the cart\n\n  if (cartItem) {\n   const newCart = [...cart].map((item)=> {\n       if (item.id === id) {\n           return {...item, amount: cartItem.amount + 1 };\n       } else {\n           return item;\n       }\n});\nsetCart(newCart);\n} else {\n   setCart([...cart, newItem]);\n\n}\n\n\n };\n\n// remove from cart\n\nconst removeFromCart = (id) => {\n    const newCart = cart.filter(item => {\n        return item.id !== id;\n    });\n    setCart(newCart)\n};\n\n\nreturn (\n     <CartContext.Provider value={{ cart, addToCart, removeFromCart }}>\n          {children}\n</CartContext.Provider>\n);\n};\n\n export default CartProvider;\n"],"mappings":"uYAAA,MAAOA,MAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAEjE;AAAA,2CAEA,MAAO,IAAMC,YAAW,cAAGH,aAAa,EAAE,CAE1C,GAAMI,aAAY,CAAG,QAAfA,aAAY,MAAmB,IAAdC,SAAQ,MAARA,QAAQ,CAE/B;AAEA,cAAwBJ,QAAQ,CAAC,EAAE,CAAC,wCAA7BK,IAAI,eAAEC,OAAO,eAGpB;AAEA,GAAMC,UAAS,CAAG,QAAZA,UAAS,CAAIC,OAAO,CAAEC,EAAE,CAAK,CAC/BC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CACpC,GAAMC,QAAO,gCAAQJ,OAAO,MAAEK,MAAM,CAAE,CAAC,EAAE,CAEzC;AACA;AAEA,GAAMC,SAAQ,CAAGT,IAAI,CAACU,IAAI,CAAC,SAACC,IAAI,CAAK,CACrC,MAAOA,KAAI,CAACP,EAAE,GAAKA,EAAE,CACrB,CAAC,CAAC,CAEF;AAEE,GAAIK,QAAQ,CAAE,CACb,GAAMG,QAAO,CAAG,mBAAIZ,IAAI,EAAEa,GAAG,CAAC,SAACF,IAAI,CAAI,CACnC,GAAIA,IAAI,CAACP,EAAE,GAAKA,EAAE,CAAE,CAChB,sCAAWO,IAAI,MAAEH,MAAM,CAAEC,QAAQ,CAACD,MAAM,CAAG,CAAC,GAChD,CAAC,IAAM,CACH,MAAOG,KAAI,CACf,CACP,CAAC,CAAC,CACFV,OAAO,CAACW,OAAO,CAAC,CAChB,CAAC,IAAM,CACJX,OAAO,8BAAKD,IAAI,GAAEO,OAAO,GAAE,CAE9B,CAGC,CAAC,CAEF;AAEA,GAAMO,eAAc,CAAG,QAAjBA,eAAc,CAAIV,EAAE,CAAK,CAC3B,GAAMQ,QAAO,CAAGZ,IAAI,CAACe,MAAM,CAAC,SAAAJ,IAAI,CAAI,CAChC,MAAOA,KAAI,CAACP,EAAE,GAAKA,EAAE,CACzB,CAAC,CAAC,CACFH,OAAO,CAACW,OAAO,CAAC,CACpB,CAAC,CAGD,mBACK,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAE,CAAEZ,IAAI,CAAJA,IAAI,CAAEE,SAAS,CAATA,SAAS,CAAEY,cAAc,CAAdA,cAAe,CAAE,UAC3Df,QAAQ,EACI,CAEvB,CAAC,CAEA,cAAeD,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}